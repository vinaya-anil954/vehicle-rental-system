{% extends "base.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="admin-dashboard">
  <div class="dashboard-header">
    <h1><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h1>
    <div class="header-actions">
      <a href="{{ url_for('logout') }}" class="btn btn-danger">
        <i class="fas fa-sign-out-alt"></i> Logout
      </a>
    </div>
  </div>

  <div class="admin-grid">
    <!-- Add Vehicle Card -->
    <div class="admin-card">
      <h2><i class="fas fa-plus-circle"></i> Add New Vehicle</h2>
      <form method="POST" action="{{ url_for('add_vehicle') }}" class="admin-form">
        <div class="form-group">
          <label for="model"><i class="fas fa-car"></i> Model</label>
          <input type="text" name="model" placeholder="Model" required>
        </div>
        <div class="form-group">
          <label for="brand"><i class="fas fa-tag"></i> Brand</label>
          <input type="text" name="brand" placeholder="Brand" required>
        </div>
        <div class="form-group">
          <label for="price"><i class="fas fa-dollar-sign"></i> Price</label>
          <input type="number" name="price" placeholder="Price" required>
        </div>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-save"></i> Add Vehicle
        </button>
      </form>
    </div>

    <!-- Vehicles List -->
    <div class="admin-card">
      <h2><i class="fas fa-car"></i> Vehicle Inventory</h2>
      <div class="table-responsive">
        <table class="admin-table">
          <thead>
            <tr>
              <th>Model</th>
              <th>Brand</th>
              <th>Price</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for vehicle in vehicles %}
            <tr>
              <td>{{ vehicle[1] }}</td>
              <td>{{ vehicle[2] }}</td>
              <td>${{ vehicle[3] }}</td>
              <td>
                <a href="{{ url_for('delete_vehicle', vehicle_id=vehicle[0]) }}" 
                   class="btn btn-danger btn-sm"
                   onclick="return confirm('Are you sure you want to delete this vehicle?')">
                  <i class="fas fa-trash"></i> Delete
                </a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

    <!-- Bookings List -->
    <div class="admin-card">
      <h2><i class="fas fa-book"></i> All Bookings</h2>
      <div class="table-responsive">
        <table class="admin-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>User</th>
              <th>Vehicle</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {% for booking in bookings %}
            <tr>
              <td>#{{ booking[0] }}</td>
              <td>{{ booking[1] }}</td>
              <td>{{ booking[2] }}</td>
              <td>
                <span class="status-badge {{ booking[3] }}">
                  {{ booking[3]|capitalize }}
                </span>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}