{% extends "base.html" %}

{% block title %}My Bookings{% endblock %}

{% block content %}
<div class="dashboard-container">
  <div class="dashboard-header">
    <h1><i class="fas fa-calendar-alt"></i> My Bookings</h1>
    <div class="header-actions">
      <a href="{{ url_for('user_dashboard') }}" class="btn btn-outline">
        <i class="fas fa-arrow-left"></i> Back to Vehicles
      </a>
    </div>
  </div>

  <div class="booking-cards">
    {% for booking in bookings %}
    <div class="booking-card {% if booking[3] == 'cancelled' %}cancelled{% endif %}">
      <div class="booking-header">
        <span class="booking-id">Booking #{{ booking[0] }}</span>
        <span class="booking-status {{ booking[3] }}">{{ booking[3]|capitalize }}</span>
      </div>
      
      <div class="booking-details">
        <div class="detail">
          <i class="fas fa-car"></i>
          <span>{{ booking[1] }} ({{ booking[2] }})</span>
        </div>
        <div class="detail">
          <i class="fas fa-dollar-sign"></i>
          <span>${{ booking[2] }}</span>
        </div>
        <div class="detail">
          <i class="fas fa-info-circle"></i>
          <span>Status: {{ booking[3]|capitalize }}</span>
        </div>
      </div>

      {% if booking[3] != 'cancelled' %}
      <div class="booking-actions">
        <a href="{{ url_for('cancel_booking', booking_id=booking[0]) }}" 
           class="btn btn-danger btn-sm">
          <i class="fas fa-times"></i> Cancel Booking
        </a>
      </div>
      {% endif %}
    </div>
    {% else %}
    <div class="empty-state">
      <i class="fas fa-calendar-times"></i>
      <h3>No Bookings Found</h3>
      <p>You haven't made any bookings yet.</p>
      <a href="{{ url_for('user_dashboard') }}" class="btn btn-primary">
        Browse Vehicles
      </a>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}